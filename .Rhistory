findwords <- function(file, sort.by.freq = F)
{
# fill word.vec from data in file
word.vec <- scan(file, "")
# initialize word list
word.list <- list()
# iterate through word vector
for(i in 1:length(word.vec))
{
# store current word in variable word
word <- word.vec[i]
# add current word to word.list
word.list[[word]] <- c(word.list[[word]], i)
}
# sort by word frequency or else sort alphabetically
if(sort.by.freq) {return(word.list[order(sapply(word.list, length),
decreasing = T)])} else {return(word.list[sort(names(word.list))])}
}
## finds locations of each word in file
findwords <- function(file, sort.by.freq = F)
{
# fill word.vec from data in file
word.vec <-
scan("https://ia800908.us.archive.org/6/items
/alicesadventures19033gut/19033.txt", "")
# initialize word list
word.list <- list()
# iterate through word vector
for(i in 1:length(word.vec))
{
# store current word in variable word
word <- word.vec[i]
# add current word to word.list
word.list[[word]] <- c(word.list[[word]], i)
}
# sort by word frequency or else sort alphabetically
if(sort.by.freq) {return(word.list[order(sapply(word.list, length),
decreasing = T)])} else {return(word.list[sort(names(word.list))])}
}
findwords()
word.list <-
findwords("https://ia800908.us.archive.org/6/items/ali
cesadventures19033gut/19033.txt", sort.by.freq=T)
## finds locations of each word in file
findwords <- function(file, sort.by.freq = F)
{
# fill word.vec from data in file
word.vec <-
scan()
# initialize word list
word.list <- list()
# iterate through word vector
for(i in 1:length(word.vec))
{
# store current word in variable word
word <- word.vec[i]
# add current word to word.list
word.list[[word]] <- c(word.list[[word]], i)
}
# sort by word frequency or else sort alphabetically
if(sort.by.freq) {return(word.list[order(sapply(word.list, length),
decreasing = T)])} else {return(word.list[sort(names(word.list))])}
}
word.list <-
findwords("https://ia800908.us.archive.org/6/items/ali
cesadventures19033gut/19033.txt", sort.by.freq=T)
findwords("https://ia800908.us.archive.org/6/items/ali
cesadventures19033gut/19033.txt", sort.by.freq=T)
findwords <- function(file, sort.by.freq = F)
{
# fill word.vec from data in file
word.vec <- scan(file, "")
# initialize word list
word.list <- list()
# iterate through word vector
for(i in 1:length(word.vec))
{
# store current word in variable word
word <- word.vec[i]
# add current word to word.list
word.list[[word]] <- c(word.list[[word]], i)
}
# sort by word frequency or else sort alphabetically
if(sort.by.freq) {return(word.list[order(sapply(word.list, length),
decreasing = T)])} else {return(word.list[sort(names(word.list))])}
}
word.list <-
findwords("https://ia800908.us.archive.org/6/items/ali
cesadventures19033gut/19033.txt", sort.by.freq=T)
word.freq <- sapply(word.list, length)
barplot(word.freq[1:20], las=2, main="Alice's
Adventures in Wonderland")
word.list <-
findwords("https://ia800707.us.archive.org/23/items/th
eadventuresoft00074gut/old/sawyr11.txt",
sort.by.freq=T)
word.freq <- sapply(word.list, length)
barplot(word.freq[1:20], las=2, main="The Adventures
of Tom Sawyer")
sleep
sleep_pos <- sleep[(sleep$extra > 0),]
sleep_pos
sleep_pos_avg <- mean(sleep_pos)
per95 <- function (x) {quantile(x, probs = 0.95)}
per95(  rnorm(2000)  )
per95 <- function (x)
{
vec () -> quantile(x, probs = 0.95)
return(unname (vec))
}
per95(  rnorm(2000)  )
per95 <- function (vec)
{
vec () -> quantile(x, probs = 0.95)
return(unname (vec))
}
per95(  rnorm(2000)  )
per95 <- function (vec)
{
vec -> quantile(x, probs = 0.95)
return(unname (vec))
}
per95(  rnorm(2000)  )
per95 <- function (x)
{
vec -> quantile(x, probs = 0.95)
return(unname (vec))
}
per95(  rnorm(2000)  )
per95 <- function (x)
{
vec <- quantile(x, probs = 0.95)
return(unname (vec))
}
per95(  rnorm(2000)  )
v <- rep(1:3, each=3, times=2)
v
v <- rep(1:3, times=2, each=3)
v
0.4-0.1
0.4-0.1 == 0.3
0.5-0.2 == 0.3
vec2 <- seq(-1, 4, length.out=21)
vec2 [22]
vec2
vec2 [25] <- 8
vec2
df <- data.frame(col_a=11:14, ColName2=letters[1:4],
LogicalCol=(1:4)>2)
df
df[ "LogicalCol" ]
df[ ,"LogicalCol" ]
df[ ,"LogicalCol", drop = FALSE]
L1 <- list(first="result of function 'list'",
second=345:287, third=rnorm(10),
fourth=data.frame(a=6:3, b=rexp(4)),
fifth=LETTERS, sixth=letters,
seventh=sample(300), eigth="goodbye")
L1
str(L1)
L1[c(3,6)] <- c(77777777, 3333333)
L1
iris$Species
iris$Species[63]
knitr::opts_chunk$set(echo = FALSE)
getwd()
#save(kiggs,file="kiggs.Rda")
#stored in the current workspace: ("~/Documents/Documents/Universität/Master/MSc - DH/3. Semester/R Data Analytics/EXAM")
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
getwd()
getwd()
#save(kiggs,file="kiggs.Rda")
#stored in the current workspace: ("~/Documents/Documents/Universität/Master/MSc - DH/3. Semester/R Data Analytics/EXAM")
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
save(kiggs,file="kiggs.Rda")
##Load and Read Dataset
#getwd()
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
#install.packages("tidyverse")
library(haven)
dat <- read_sav("KiGGS03_06.sav")
kiggs <- data.frame("E070M"=dat$E070M,
"E070V"=dat$E070V,
"E072"=dat$E072,
"E074"=dat$E074,
"arztZ01"=dat$arztZ01,
"bmiB"=dat$bmiB,
"sex"=dat$sex,
"age2"=dat$age2,
"schichtz"=dat$schichtz,
"e0622"=dat$e0622,
"e0623"=dat$e0623,
"e065z"=dat$e065z,
"kw100.e"=dat$kw100_e)
head(kiggs)
kiggs$E070M    <- factor(kiggs$E070M,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E070V    <- factor(kiggs$E070V,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E072     <- factor(kiggs$E072,     labels = c("yes, regularly", "yes, from time to time", "no, never"))
kiggs$E074     <- factor(kiggs$E074,     labels = c("yes, regularly", "yes, from time to time", "no, never", "has not breastfed"))
kiggs$sex      <- factor(kiggs$sex,      labels = c("boys", "girls"))
kiggs$age2     <- factor(kiggs$age2,     labels = c("0-1y", "2-3y", "4-5y", "6-7y", "8-9y", "10-11y", "12-13y", "14-15y", "16-17y"))
kiggs$schichtz <- factor(kiggs$schichtz, labels = c("low social status", "medium social status", "high social status"))
kiggs$e0622    <- factor(kiggs$e0622,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
kiggs$e0623    <- factor(kiggs$e0623,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
save(kiggs,file="kiggs.Rda")
#stored in the current workspace: ("~/Documents/Documents/Universität/Master/MSc - DH/3. Semester/R Data Analytics/EXAM")
getwd()
save(kiggs,file="kiggs.Rda")
knitr::opts_chunk$set(echo = FALSE)
##Load and Read Dataset
#getwd()
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
#install.packages("tidyverse")
library(haven)
dat <- read_sav("KiGGS03_06.sav")
kiggs <- data.frame("E070M"=dat$E070M,
"E070V"=dat$E070V,
"E072"=dat$E072,
"E074"=dat$E074,
"arztZ01"=dat$arztZ01,
"bmiB"=dat$bmiB,
"sex"=dat$sex,
"age2"=dat$age2,
"schichtz"=dat$schichtz,
"e0622"=dat$e0622,
"e0623"=dat$e0623,
"e065z"=dat$e065z,
"kw100.e"=dat$kw100_e)
head(kiggs)
kiggs$E070M    <- factor(kiggs$E070M,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E070V    <- factor(kiggs$E070V,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E072     <- factor(kiggs$E072,     labels = c("yes, regularly", "yes, from time to time", "no, never"))
kiggs$E074     <- factor(kiggs$E074,     labels = c("yes, regularly", "yes, from time to time", "no, never", "has not breastfed"))
kiggs$sex      <- factor(kiggs$sex,      labels = c("boys", "girls"))
kiggs$age2     <- factor(kiggs$age2,     labels = c("0-1y", "2-3y", "4-5y", "6-7y", "8-9y", "10-11y", "12-13y", "14-15y", "16-17y"))
kiggs$schichtz <- factor(kiggs$schichtz, labels = c("low social status", "medium social status", "high social status"))
kiggs$e0622    <- factor(kiggs$e0622,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
kiggs$e0623    <- factor(kiggs$e0623,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
getwd()
save(kiggs,file="kiggs.Rda")
save(kiggs,file="kiggs.Rda")
#File saved in
getwd()
load("kiggs.Rda")
save(kiggs,file="kiggs.Rda")
File saved in getwd()
str(kiggs$E070M)
str(kiggs$E070V)
str(kiggs$E072)
str(kiggs$E074)
kiggs$E074
summary(kiggs$E074)
kiggs$E074[kiggs$E074=="has not breastfed"]<-NA
summary(kiggs$E074)
kiggs$E074 <- droplevels(kiggs$E074, exclude=NA)
summary(kiggs$E074)
table(kiggs$E074)
kiggs$E074[grep("has not breastfed", kiggs$E074)]
levels(kiggs$E074)
# only 3 values exist in the variable after setting "has not breastfed" to NA and deleting it from the variable E074
##Load and Read Dataset
#getwd()
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
#install.packages("tidyverse")
library(haven)
dat <- read_sav("KiGGS03_06.sav")
kiggs <- data.frame("E070M"=dat$E070M,
"E070V"=dat$E070V,
"E072"=dat$E072,
"E074"=dat$E074,
"arztZ01"=dat$arztZ01,
"bmiB"=dat$bmiB,
"sex"=dat$sex,
"age2"=dat$age2,
"schichtz"=dat$schichtz,
"e0622"=dat$e0622,
"e0623"=dat$e0623,
"e065z"=dat$e065z,
"kw100.e"=dat$kw100_e)
head(kiggs)
kiggs$E070M    <- factor(kiggs$E070M,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E070V    <- factor(kiggs$E070V,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E072     <- factor(kiggs$E072,     labels = c("yes, regularly", "yes, from time to time", "no, never"))
kiggs$E074     <- factor(kiggs$E074,     labels = c("yes, regularly", "yes, from time to time", "no, never", "has not breastfed"))
kiggs$sex      <- factor(kiggs$sex,      labels = c("boys", "girls"))
kiggs$age2     <- factor(kiggs$age2,     labels = c("0-1y", "2-3y", "4-5y", "6-7y", "8-9y", "10-11y", "12-13y", "14-15y", "16-17y"))
kiggs$schichtz <- factor(kiggs$schichtz, labels = c("low social status", "medium social status", "high social status"))
kiggs$e0622    <- factor(kiggs$e0622,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
kiggs$e0623    <- factor(kiggs$e0623,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
save(kiggs,file="kiggs.Rda")
getwd()
load("kiggs.Rda")
str(kiggs$E070M)
str(kiggs$E070V)
str(kiggs$E072)
str(kiggs$E074)
table(kiggs$E074)
#kiggs$E074[kiggs$E074=="has not breastfed"]<-NA
#summary(kiggs$E074)
str(kiggs$E074)
head(kiggs$E074)
kiggs$E074[kiggs$E074=="has not breastfed"]<-NA
kiggs$E074 <- droplevels(kiggs$E074, exclude=NA)
summary(kiggs$E070M)
summary(kiggs$E070V)
summary(kiggs$E072)
summary(kiggs$E074)
summary(kiggs$E074)
str(kiggs$E074)
is.factor(kiggs$E074)
table(kiggs$E070M)   #Rauchen detailliert: Mutter
table(kiggs$E070V)    # Rauchen detailliert: Vater
table(kiggs$E072)     # Rauchen der Mutter in Schwangerschaft
table(kiggs$E074)     #Rauchen der Mutter in Stillzeit
#> table(kiggs$E070M )
#
#yes, daily yes, occasionally                no
#4066              1319             11728
#> table(kiggs$E070V)
#
#yes, daily yes, occasionally                no
#5335              1221              9698
#> table(kiggs$E072)
#
#yes, regularly yes, from time to time              no, never
#795                   2115                  14178
#> table(kiggs$E074)
#
#yes, regularly yes, from time to time              no, never
#281                   1102                  12117
#kiggs$E070M <- as.numeric(as.factor(kiggs$E070M))
#kiggs$E070V <- as.numeric(as.factor(kiggs$E070V))
#kiggs$E072 <- as.numeric(as.factor(kiggs$E072))
#kiggs$E074 <- as.numeric(as.factor(kiggs$E074))
#burdenS <- rbind(kiggs$E070M, kiggs$E070V, kiggs$E072, kiggs$E074)
#kiggs$burdenS <- kiggs$E070M + kiggs$E070V + kiggs$E072 + kiggs$E074
#table(burdenS)
#cbind(kiggs, burdenS)
#Meaning: The higher the mean, the higher the level of exposure to smoke. (Each of the 4 variables has  3 categories (0-12))
as.factor(kiggs$E070M)
as.numeric(as.factor(kiggs$E070M))
#yes, daily yes, occasionally                no
#5335              1221              9698
#> table(kiggs$E072)
#
#yes, regularly yes, from time to time              no, never
#795                   2115                  14178
#> table(kiggs$E074)
#
#yes, regularly yes, from time to time              no, never
#281                   1102                  12117
as.factor(kiggs$E070M)
#yes, daily yes, occasionally                no
#5335              1221              9698
#> table(kiggs$E072)
#
#yes, regularly yes, from time to time              no, never
#795                   2115                  14178
#> table(kiggs$E074)
#
#yes, regularly yes, from time to time              no, never
#281                   1102                  12117
as.factor(kiggs$E070M)
as.numeric(as.factor(kiggs$E070M))
#yes, daily yes, occasionally                no
#5335              1221              9698
#> table(kiggs$E072)
#
#yes, regularly yes, from time to time              no, never
#795                   2115                  14178
#> table(kiggs$E074)
#
#yes, regularly yes, from time to time              no, never
#281                   1102                  12117
table(as.factor(kiggs$E070M))
table(as.numeric(as.factor(kiggs$E070M)))
table(as.factor(kiggs$E070M))
table(as.numeric(as.factor(kiggs$E070M)))
poposote
12117
popo1 <- as.numeric(as.factor(kiggs$E070M))
popo2 <- as.numeric(as.factor(kiggs$E070V))
popo3 <- as.numeric(as.factor(kiggs$E072))
popo4 <- as.numeric(as.factor(kiggs$E074))
poposote <- rbind(popo1,popo2, popo3, popo4)
#burdenS <- rbind(kiggs$E070M, kiggs$E070V,
table(poposote)
View(poposote)
View(poposote)
summary(poposote)
head(poposote)
poposote2 <- popo1+popo2+popo3+popo4
poposote3 <- sum(popo1,popo2,popo3,popo4, na.rm = TRUE)
poposote4 <- cbind(popo1,popo2, popo3, popo4)
View(poposote4)
View(poposote4)
View(dat)
View(dat)
View(kiggs)
View(kiggs)
elpopo <- rowSums(poposote4, na.rm = TRUE)
table(elpopo)
table(kiggs$E070M)    #Mother smoking
table(kiggs$E070V)    #Father smoking
table(kiggs$E072)     #Mother smoking during pregnancy
table(kiggs$E074)     #Mother smoking during breastfeeding
#> table(kiggs$E070M )
#
#yes, daily yes, occasionally                no
#4066              1319             11728
#> table(kiggs$E070V)
#
#yes, daily yes, occasionally                no
#5335              1221              9698
#> table(kiggs$E072)
#
#yes, regularly yes, from time to time              no, never
#795                   2115                  14178
#> table(kiggs$E074)
#
#yes, regularly yes, from time to time              no, never
#281                   1102                  12117
kiggs$E070M_number <- as.numeric(as.factor(kiggs$E070M))
kiggs$E070V_number <- as.numeric(as.factor(kiggs$E070V))
kiggs$E072_number <- as.numeric(as.factor(kiggs$E072))
kiggs$E074_number <- as.numeric(as.factor(kiggs$E074))
proto_burdenS <- cbind(kiggs$E070M_number, kiggs$E070V_number, kiggs$E072_number, kiggs$E074_number)
burdenS <- rowSums(proto_burdenS, na.rm = TRUE)
#burdenS <- rbind(kiggs$E070M, kiggs$E070V, kiggs$E072, kiggs$E074)
#kiggs$burdenS <- kiggs$E070M + kiggs$E070V + kiggs$E072 + kiggs$E074
#table(burdenS)
#cbind(kiggs, burdenS)
#Meaning: The higher the mean, the higher the level of exposure to smoke. (Each of the 4 variables has  3 categories (0-12))
#proto_burdenS <- cbind(kiggs$E070M_number, kiggs$E070V_number, kiggs$E072_number, kiggs$E074_number)
burdenS <- rowSums((cbind(kiggs$E070M_number, kiggs$E070V_number, kiggs$E072_number, kiggs$E074_number)), na.rm = TRUE)
#proto_burdenS <- cbind(kiggs$E070M_number, kiggs$E070V_number, kiggs$E072_number, kiggs$E074_number)
burdenS1 <- rowSums((cbind(kiggs$E070M_number, kiggs$E070V_number, kiggs$E072_number, kiggs$E074_number)), na.rm = TRUE)
str(burdenS1)
summary(burdenS1)
str(burdenS1)
str(proto_burdenS)
summary(proto_burdenS)
table(burdenS1)
knitr::opts_chunk$set(echo = FALSE)
##Load and Read Dataset
#getwd()
setwd("C:/Users/Juan Carlos/Desktop/HPI/Semestre III/Stadistics with R/repository SWR")
#install.packages("tidyverse")
library(haven)
dat <- read_sav("KiGGS03_06.sav")
kiggs <- data.frame("E070M"=dat$E070M,
"E070V"=dat$E070V,
"E072"=dat$E072,
"E074"=dat$E074,
"arztZ01"=dat$arztZ01,
"bmiB"=dat$bmiB,
"sex"=dat$sex,
"age2"=dat$age2,
"schichtz"=dat$schichtz,
"e0622"=dat$e0622,
"e0623"=dat$e0623,
"e065z"=dat$e065z,
"kw100.e"=dat$kw100_e)
head(kiggs)
kiggs$E070M    <- factor(kiggs$E070M,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E070V    <- factor(kiggs$E070V,    labels = c("yes, daily", "yes, occasionally", "no"))
kiggs$E072     <- factor(kiggs$E072,     labels = c("yes, regularly", "yes, from time to time", "no, never"))
kiggs$E074     <- factor(kiggs$E074,     labels = c("yes, regularly", "yes, from time to time", "no, never", "has not breastfed"))
kiggs$sex      <- factor(kiggs$sex,      labels = c("boys", "girls"))
kiggs$age2     <- factor(kiggs$age2,     labels = c("0-1y", "2-3y", "4-5y", "6-7y", "8-9y", "10-11y", "12-13y", "14-15y", "16-17y"))
kiggs$schichtz <- factor(kiggs$schichtz, labels = c("low social status", "medium social status", "high social status"))
kiggs$e0622    <- factor(kiggs$e0622,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
kiggs$e0623    <- factor(kiggs$e0623,    labels = c("almost daily", "3-5x per week", "1-2x per week", "fewer", "never"))
save(kiggs,file="kiggs.Rda")
getwd()
load("kiggs.Rda")
str(kiggs$E070M)
str(kiggs$E070V)
str(kiggs$E072)
str(kiggs$E074)
kiggs$E074[kiggs$E074=="has not breastfed"]<-NA
kiggs$E074 <- droplevels(kiggs$E074, exclude=NA)
summary(kiggs$E074)
str(kiggs$E074)
table(kiggs$E070M)    #Mother smoking
table(kiggs$E070V)    #Father smoking
table(kiggs$E072)     #Mother smoking during pregnancy
table(kiggs$E074)     #Mother smoking during breastfeeding
#> table(kiggs$E070M )
#
#yes, daily yes, occasionally                no
#4066              1319             11728
#> table(kiggs$E070V)
#
#yes, daily yes, occasionally                no
#5335              1221              9698
#> table(kiggs$E072)
#
#yes, regularly yes, from time to time              no, never
#795                   2115                  14178
#> table(kiggs$E074)
#
#yes, regularly yes, from time to time              no, never
#281                   1102                  12117
kiggs$E070M_number <- as.numeric(as.factor(kiggs$E070M))
kiggs$E070V_number <- as.numeric(as.factor(kiggs$E070V))
kiggs$E072_number <- as.numeric(as.factor(kiggs$E072))
kiggs$E074_number <- as.numeric(as.factor(kiggs$E074))
burdenS <- rowSums((cbind(kiggs$E070M_number, kiggs$E070V_number, kiggs$E072_number, kiggs$E074_number)), na.rm = TRUE)
table(burdenS)
#Meaning: The higher the mean, the higher the level of exposure to smoke. (Each of the 4 variables has  3 categories (0-12))
